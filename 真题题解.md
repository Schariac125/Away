# çœŸé¢˜é¢˜è§£

## 2024

### Açš„Bæ¬¡æ–¹çš„åå››ä½

```cpp
#include <bits/stdc++.h>
using namespace std;
using ll=long long;
const int mod=10000;
ll fastpow(ll base,ll exp){
    if (exp==0){
        return 1; 
    }
    ll res=1;
    ll cur=base;
    while (exp>0){
        if (exp&1){
            res=(res*cur)%mod;
        }
        cur=(cur*cur)%mod;
        exp>>=1;
    }
    return res;
}
ll a,b;
int main(){
    cin>>a>>b;
    printf("%04d",fastpow(a,b));
    return 0;
}
```

å¤‡æ³¨ï¼šæš´åŠ›å¯è¿‡ï¼ŒBçš„èŒƒå›´å®åœ¨å¤ªå°

### æœ€å¤§å­åˆ—å’Œ

```cpp
#include <bits/stdc++.h>
using namespace std;
int n;
int main(){
    cin>>n;
    vector<int> nums(n);
    for (int i=0;i<n;i++){
        cin>>nums[i];
    }
    if (n==1){
        cout<<nums[0]<<endl;
        return 0;
    }
    vector<int> dp(n,0);
    dp[0]=nums[0];
    int maxx=dp[0];
    for (int i=1;i<n;i++){
        dp[i]=max(dp[i-1]+nums[i],nums[i]);
        maxx=max(maxx,dp[i]);
    }
    cout<<maxx<<endl;
    return 0;
}//è´ªå¿ƒå®æµ‹å¯è¿‡
```

### é‡æ’é“¾è¡¨

```cpp
#include <bits/stdc++.h>
using namespace std;
class node{
    public:
    int add,data,next;
};
unordered_map<int,node> m;
deque<node> d;
int tbegin,n;
int main(){
    cin>>tbegin>>n;
    node l;
    while(n--){
        cin>>l.add>>l.data>>l.next;
        m[l.add]=l;
    }
    vector<node> ans;
    while(tbegin!=-1){
        d.push_back(m[tbegin]);
        tbegin=m[tbegin].next;
    }
    while (!d.empty()) {
    if (d.size() >= 2) {
        ans.push_back(d.back());
        ans.push_back(d.front());
        d.pop_back();
        d.pop_front();
    } else { 
        ans.push_back(d.front());
        d.pop_front();
    }
}
    for (int i=0;i<ans.size();i++){
        if (i==ans.size()-1){
            ans[i].next=-1;
        }else{
            ans[i].next=ans[i+1].add;
        }
    }
    for (auto it:ans){
        printf("%05d %d ",it.add,it.data);
        if (it.next != -1)
            printf("%05d\n",it.next);
        else
            printf("-1\n");
    }
    return 0;
}
```

### å…”å­è¯•æ¯’

é¢˜é¢ä¸æ¸…,å†™ä¸äº†ç­”æ¡ˆã€‚

### æ·¹æ²¡å²›å±¿

```cpp
#include <bits/stdc++.h>
using namespace std;
int xx[4]={0,0,1,-1};
int yy[4]={1,-1,0,0};
int n;
const int m=1010;
int vis[1010][1010];
vector<pair<int,int>> flow;
vector<vector<char>> mp(m,vector<char>(m));
bool soak(int x,int y){
    if (mp[x][y]!='#'){
        return false;
    }
    for (int i=0;i<4;i++){
        int dx=x+xx[i];
        int dy=y+yy[i];
        if (mp[dx][dy]=='.'){
            return true;
        }
    }
    return false;
}
void dfs1(int x,int y){
    if (soak(x,y)){
        flow.push_back(pair<int,int>(x,y));
    }
    vis[x][y]=1;
    for (int i=0;i<4;i++){
        int dx=x+xx[i];
        int dy=y+yy[i];
        if (dx<1||dy<1||dx>n||dy>n||vis[dx][dy]||mp[dx][dy]=='.'){
            continue;
        }
        dfs1(dx,dy);
    }
}
void dfs2(int x,int y){
    vis[x][y]=1;
    for (int i=0;i<4;i++){
        int dx=x+xx[i];
        int dy=y+yy[i];
        if (dx<1||dy<1||dx>n||dy>n||vis[dx][dy]||mp[dx][dy]=='.'){
            continue;
        }
        dfs2(dx,dy);
    }
}
int main(){
    cin>>n;
    //vector<vector<char>> mp(n,vector<char>(n));
    for (int i=1;i<=n;i++){
        for (int j=1;j<=n;j++){
            cin>>mp[i][j];
        }
    }
    int cnt1=0;
    for (int i=1;i<=n;i++){
        for (int j=1;j<=n;j++){
            if (mp[i][j]=='#'&&!vis[i][j]){
                cnt1++;
                dfs1(i,j);
            }
        }
    }
    for (auto it:flow){
        mp[it.first][it.second]='-';
    }
    memset(vis,0,sizeof(vis));
    int cnt2=0;
    for (int i=1;i<=n;i++){
        for (int j=1;j<=n;j++){
            if (mp[i][j]=='#'&&!vis[i][j]){
                cnt2++;
                dfs2(i,j);
            }
        }
    }
    //cout<<cnt1<<" "<<cnt2<<endl;
    cout<<cnt1-cnt2<<endl;
    return 0;
}//æŸ“è‰²æ³•ä¹Ÿå®æµ‹å¯è¿‡
```

### å¼•æ°´å…¥åŸ

```cpp
#include <bits/stdc++.h>
using namespace std;

int n, m;
int mp[1010][1010];
int xx[4] = {0, 0, 1, -1}, yy[4] = {1, -1, 0, 0};
int l[1010], r[1010];
bool global_vis[1010][1010]; // å…¨å±€visæ•°ç»„ï¼Œç”¨äºæ£€æŸ¥æœ€åä¸€è¡Œæ˜¯å¦å…¨éƒ¨è¢«çŒæº‰

void dfs(int x, int y, int start, vector<vector<bool>>& local_vis) {
    local_vis[x][y] = true;
    global_vis[x][y] = true; // åŒæ—¶æ›´æ–°å…¨å±€visæ•°ç»„
    
    if (x == n-1) {
        l[start] = min(y, l[start]);
        r[start] = max(y, r[start]);
    }
    
    for (int i = 0; i < 4; i++) {
        int dx = x + xx[i];
        int dy = y + yy[i];
        if (dx < 0 || dy < 0 || dx >= n || dy >= m || mp[x][y] <= mp[dx][dy]) {
            continue;
        }
        if (!local_vis[dx][dy]) {
            dfs(dx, dy, start, local_vis);
        }
    }
}

int main() {
    cin >> n >> m;
    memset(l, 0x3f, sizeof(l)); // ä½¿ç”¨æ ‡å‡†çš„å¤§æ•°åˆå§‹åŒ–
    memset(r, -1, sizeof(r));   // åˆå§‹åŒ–ræ•°ç»„
    memset(global_vis, 0, sizeof(global_vis)); // åˆå§‹åŒ–å…¨å±€visæ•°ç»„
    
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < m; j++) {
            cin >> mp[i][j];
        }
    }
    
    // ä¸ºæ¯ä¸ªèµ·ç‚¹åˆ›å»ºç‹¬ç«‹çš„å±€éƒ¨visæ•°ç»„
    for (int i = 0; i < m; i++) {
        vector<vector<bool>> local_vis(n, vector<bool>(m, false));
        if (!global_vis[0][i]) { // å¦‚æœèµ·ç‚¹å·²ç»è¢«å…¨å±€æ ‡è®°ï¼Œå¯ä»¥è·³è¿‡
            dfs(0, i, i, local_vis);
        }
    }
    
    // æ£€æŸ¥åº•éƒ¨æ˜¯å¦å…¨éƒ¨è¦†ç›–
    bool flag = true;
    int uncovered = 0;
    for (int i = 0; i < m; i++) {
        if (!global_vis[n-1][i]) {
            flag = false;
            uncovered++;
        }
    }
    
    if (!flag) {
        cout << 0 << endl;
        cout << uncovered << endl;
        return 0;
    }
    
    // è´ªå¿ƒè¦†ç›–åŒºé—´
    int ans = 0;
    int left = 0;
    while (left < m) {
        int right = -1;
        for (int i = 0; i < m; i++) {
            if (l[i] <= left) {
                right = max(right, r[i]);
            }
        }
        left = right + 1;
        ans++;
    }
    cout << 1 << endl;
    cout << ans << endl;
    return 0;
}//è¿™ä¸ªä¸œè¥¿å¾ˆæ¶å¿ƒäº†ï¼Œè€ƒåœºä¸Šæˆ‘ä¼°è®¡ä¹Ÿâ€¦â€¦
```

### æ— èŠçš„æ¸¸æˆ

```cpp
#include <bits/stdc++.h>
using namespace std;
int n;
int main(){
    cin>>n;
    int a,b;
    int cnta=0,cntb=0;
    while (n--){
        cin>>a>>b;
        if (a>b){
            cnta++;
        }
        if (b>a){
            cntb++;
        }
    }
    if (cnta>cntb){
        cout<<"Alice"<<" "<<cnta<<endl;
        return 0;
    }else{
        cout<<"Bob"<<" "<<cntb<<endl;
        return 0;
    }
}
```

### å­—æ¯ä¸²å¤„ç†

```cpp
#include <bits/stdc++.h>
using namespace std;
 
int main(){
    string s;
    cin>>s;
    string s1="aeiouyAEIOUY";
    string ans;
    for (auto c:s){
        if (s1.find(c)!=string::npos){
            continue;
        }else{
            ans.push_back('.');
            if (c>='A'&&c<='Z'){
                ans.push_back(tolower(c));
            }else{
                ans.push_back(c);
            }
        }
    }
    cout<<ans<<endl;
}
```

### é±¼å’Œç†ŠæŒ

```cpp
#include <bits/stdc++.h>
using namespace std;
int n,m,k;
int main(){
    cin>>n>>m;
    unordered_map<int,unordered_set<int>> h;
    for (int i=1;i<=n;i++){
        cin>>k;
        int x;
        for (int j=1;j<=k;j++){
            cin>>x;
            h[x].insert(i);
        }
    }
    int q;
    cin>>q;
    while (q--){
        int a,b;
        int sum=0;
        cin>>a>>b;
        for (auto it:h[a]){
            if (h[b].find(it)!=h[b].end()){
                sum++;
            }
        }
        cout<<sum<<endl;
    }
}
```

bitsetä¼˜åŒ–ï¼ˆç¬‘æ­»æˆ‘äº†bitsetä¼˜åŒ–åè€Œä¼šçˆ†å†…å­˜ï¼‰

```cpp
#include <bits/stdc++.h>
using namespace std;

const int N = 1e5 + 10;
int n, m, k;
bitset<N> h[100010]; // å‡è®¾æ•°å­—å€¼ä¸è¶…è¿‡ 1e5

int main() {
    cin >> n >> m;
    for (int i = 1; i <= n; i++) {
        cin >> k;
        int x;
        for (int j = 1; j <= k; j++) {
            cin >> x;
            h[x][i] = 1; // ç¬¬ i è¡Œå‡ºç°æ•°å­— x
        }
    }

    int q;
    cin >> q;
    while (q--) {
        int a, b;
        cin >> a >> b;
        cout << (h[a] & h[b]).count() << endl;
    }
}
```

### ç»å¯¹å€¼æ¯”å¤§å°

```cpp
#include <bits/stdc++.h>
using namespace std;
bool cmp(int a,int b){
    if (abs(a)==abs(b)){
        return a<b;
    }
    return abs(a)>abs(b);
}
int main(){
    int n;
    cin>>n;
    vector<int> a(n);
    for (int i=0;i<n;i++){
        cin>>a[i];
    }
    sort(a.begin(),a.end(),cmp);
    for (int i=0;i<n;i++){
        cout<<a[i]<<" ";
    }
    return 0;
}
```

## 2023

### æ•²ç¬¨é’Ÿ

```cpp
#include <bits/stdc++.h>
using namespace std;
int n;
string s1,s2,s;
vector<string> get(string s){
    stringstream ss(s);
    vector<string> res;
    string word;
    while (ss>>word){
        res.push_back(word);
    }
    return res;
}
bool can(string s1,string s2){
    int n1=s1.size();
    int n2=s2.size();
    if (n1<3||n2<3){
        return false;
    }//æœ€å¤§çš„å‘ç‚¹åœ¨è¿™é‡Œå…¶å®ï¼Œåªè¦æŠŠæ“ä½œæ¨¡å—åŒ–äº†å°±è¡Œ
    string str1=s1.substr(n1-3);
    string str2=s2.substr(n2-3);
    if (str1=="ong"&&str2=="ong"){
        return true;
    }else{
        return false;
    }
}
void turn(vector<string> &s){
    int n=s.size();
    s[n-3]="qiao";
    s[n-2]="ben";
    s[n-1]="zhong";
    return;
}
int main(){
    cin>>n;
    cin.ignore();
    while (n--){
        getline(cin,s);
        if (!s.empty()&&s.back()=='.'){
            s.pop_back();
        }
        auto pos=s.find(',');
        s1=s.substr(0,pos);
        s2=s.substr(pos+1);
        vector<string> a=get(s1);
        vector<string> b=get(s2);
        if (can(a[a.size()-1],b[b.size()-1])){
            turn(b);
            for (int i=0;i<a.size();i++){
                if (i==a.size()-1){
                    cout<<a[i]<<", ";
                }else{
                    cout<<a[i]<<" ";
                }
            }
            for (int i=0;i<b.size();i++){
                if (i==b.size()-1){
                    cout<<b[i]<<".";
                }else{
                    cout<<b[i]<<" ";
                }
            }
            cout<<endl;
        }else{
            cout<<"Skipped"<<endl;
        }
    }
    return 0;
}
```

### æµ®ç‚¹äºŒåˆ†æ±‚æ–¹ç¨‹ç»„

å¤‡æ³¨ï¼šè¿™é¢˜æ²¡æœ‰è¯¦ç»†çš„é¢˜é¢ï¼Œæˆ‘åªèƒ½ç»™ä¸€ä¸ªå¤§æ¦‚çš„æ¨¡æ¿

```cpp
#include <bits/stdc++.h>
using namespace std;

// å››æ¬¡æ–¹ç¨‹ f(x) = a x^4 + b x^3 + c x^2 + d x + e
struct Quartic {
    double a, b, c, d, e;

    double operator()(double x) const {
        return (((a * x + b) * x + c) * x + d) * x + e;
    }
};

// åœ¨ [l, r] å†…ç”¨äºŒåˆ†æ±‚ f(x) = 0 çš„ä¸€ä¸ªæ ¹
// å‡è®¾è°ƒç”¨å‰å·²ä¿è¯ f(l) * f(r) <= 0
double bisect_root(const Quartic &poly, double l, double r,
                   double eps = 1e-8, int max_iter = 100) {
    double fl = poly(l), fr = poly(r);
    // å¦‚æœç«¯ç‚¹æœ¬èº«å·²ç»å¾ˆæ¥è¿‘ 0ï¼Œç›´æ¥è¿”å›
    if (fabs(fl) < eps) return l;
    if (fabs(fr) < eps) return r;

    for (int i = 0; i < max_iter && (r - l) > eps; ++i) {
        double m = (l + r) * 0.5;
        double fm = poly(m);
        if (fabs(fm) < eps) {
            return m;
        }
        if (fl * fm <= 0) {
            r = m;
            fr = fm;
        } else {
            l = m;
            fl = fm;
        }
    }
    return (l + r) * 0.5;
}

// åœ¨ [L, R] ä¸Šæ‰«æï¼Œæ‰¾æ‰€æœ‰å®æ ¹
vector<double> solve_quartic_all_roots(const Quartic &poly,
                                       double L, double R,
                                       double step = 0.1,
                                       double eps = 1e-8) {
    vector<double> roots;

    double x_prev = L;
    double f_prev = poly(x_prev);

    for (double x = L + step; x <= R; x += step) {
        double x_cur = x;
        double f_cur = poly(x_cur);

        // æ£€æŸ¥è¿™ä¸€å°æ®µé‡Œæ˜¯å¦æœ‰ç¬¦å·å˜åŒ–ï¼ˆæˆ–ç«¯ç‚¹æ¥è¿‘ 0ï¼‰
        if (f_prev * f_cur <= 0.0) {
            double l = x_prev;
            double r = x_cur;
            double root = bisect_root(poly, l, r, eps);

            // åŠ å…¥å‰å…ˆçœ‹æ˜¯å¦å’Œå·²æœ‰æ ¹å¤ªè¿‘ï¼ˆå»é‡ï¼‰
            bool is_new = true;
            for (double t : roots) {
                if (fabs(t - root) < 1e-6) {
                    is_new = false;
                    break;
                }
            }
            if (is_new) roots.push_back(root);
        }

        x_prev = x_cur;
        f_prev = f_cur;
    }

    sort(roots.begin(), roots.end());
    return roots;
}

int main() {
    // ç¤ºä¾‹ï¼šè§£ x^4 + x^3 + x^2 + x = 0
    Quartic poly{1.0, 1.0, 1.0, 1.0, 0.0};

    // æ‰«æåŒºé—´ [-10, 10]ï¼Œæ­¥é•¿å¯ä»¥æŒ‰éœ€è¦è°ƒ
    vector<double> roots = solve_quartic_all_roots(poly, -10.0, 10.0, 0.05);

    cout.setf(ios::fixed);
    cout << setprecision(8);
    for (double x : roots) {
        cout << x << "\n";
    }
    return 0;
}//è¿™ä¸ªå¾ˆæŠ½è±¡ï¼Œçœ‹é¢˜é¢å§åæ­£
```

### åŒ–å­¦è´¨é‡

```cpp
#include <bits/stdc++.h>
using namespace std;
string s;
unordered_map<char,int> h;
void get(string &s){
    int n=s.size();
    int i=0;
    while (i<n){
        if (i<n&&isalpha(s[i])){
            char c=s[i];
            i++;
            int num=0;
            while (i<n&&isdigit(s[i])){
                num=num*10+(int)(s[i]-'0');
                i++;
            }
            if (num==0){
                h[c]+=1;
            }else{
                h[c]+=num;
            }
        }else{
            i++;
        }
    }
}
int getmass(){
    return h['C']*12+h['O']*16+h['H'];
}
int main(){
    getline(cin,s);
    auto pos=s.find('(');
    if (pos==string::npos){
        get(s);
    }else{
        auto pos1=pos;
        auto pos2=s.find(')');
        int num=0;
        int i=pos2+1;
        while (i<s.size()){
            if (!isdigit(s[i])){
                break;
            }else{
                num=num*10+(int)(s[i]-'0');
                i++;
            }
        }
        string s1=s.substr(0,pos);
        string s2=s.substr(pos+1,pos2-pos1-1);
        string s3=s.substr(i);
        get(s2);
        if (num!=0){
            h['C']*=num;
            h['O']*=num;
            h['H']*=num;
        }
        get(s1);
        get(s3);
    }
    cout<<getmass()<<endl;
    return 0;
}//æ¨¡å—åŒ–å¤„ç†ï¼Œä½†æ˜¯å¦‚æœä¸ŠåµŒå¥—æ‹¬å·é‚£å°±è¦ç”¨æ ˆï¼Œä¸è¿‡è¿™éƒ½è€ƒä¸¤å¹´äº†è¿˜ä¼šè€ƒå—ï¼Ÿï¼ˆ
```

> ç”¨æ ˆå†™ä¼šæ¯”ä½ å‰é¢çš„â€œåªå…è®¸ä¸€ä¸ªæ‹¬å·â€é‚£ç‰ˆæ›´é€šç”¨ï¼Œä¹Ÿæ›´å¥½æƒ³å–µ ğŸ˜º
>  æˆ‘ä»¬å¯ä»¥ç›´æ¥æ”¯æŒ**å¤šå±‚æ‹¬å·ã€åµŒå¥—æ‹¬å·**ï¼Œè€Œä¸”ç»§ç»­åªè€ƒè™‘ C/H/O ä¸‰ç§å…ƒç´ å°±è¡Œã€‚
>
> ## ä¸€ã€æ€è·¯ï¼ˆæ ˆç‰ˆè§£æåŒ–å­¦å¼ï¼‰
>
> æ ¸å¿ƒæƒ³æ³•æ˜¯ï¼š
>
> - ç”¨ä¸€ä¸ª `stack<unordered_map<char,int>> st;`
> - **æ ˆé¡¶çš„ map** ä»£è¡¨â€œå½“å‰è¿™ä¸€å±‚æ‹¬å·é‡Œå„å…ƒç´ çš„ä¸ªæ•°â€ã€‚
>
> å…·ä½“æ‰«æå­—ç¬¦ä¸² `s` æ—¶æŒ‰å­—ç¬¦å¤„ç†ï¼š
>
> 1. **é‡åˆ°å­—æ¯ï¼ˆå…ƒç´ ç¬¦å·ï¼‰**
>    - è¿™é‡Œé¢˜ç›®åªæœ‰ `C/H/O`ï¼Œä¸”éƒ½æ˜¯å•å­—æ¯å…ƒç´ ï¼Œæ‰€ä»¥ç›´æ¥ `char c = s[i];`
>    - å¾€åè¯»æ•°å­—ï¼Œå¾—åˆ°ç³»æ•° `num`ï¼ˆå¦‚æœæ²¡æœ‰æ•°å­—å°±å½“ä½œ 1ï¼‰
>    - ç„¶åï¼š`st.top()[c] += num;`
> 2. **é‡åˆ°å·¦æ‹¬å· `(`**
>    - æ–°å¼€ä¸€å±‚ï¼š`st.push(ç©ºmap);`
> 3. **é‡åˆ°å³æ‹¬å· `)`**
>    - å…ˆ `i++`ï¼Œç„¶åå¾€åè¯»å³æ‹¬å·åé¢çš„æ•°å­— `num`ï¼ˆåŒæ ·æ²¡æœ‰å°±å½“ä½œ 1ï¼‰
>    - ä»¤ `cur = st.top(); st.pop();`
>    - æŠŠ `cur` é‡Œçš„æ¯ç§å…ƒç´ ä¹˜ä¸Š `num` ååŠ å›ä¸Šä¸€å±‚ï¼š
>       `st.top()[å…ƒç´ ] += cur[å…ƒç´ ] * num;`
> 4. å…¶ä»–å­—ç¬¦ï¼ˆç†è®ºä¸Šæ²¡äº†ï¼‰ï¼š`i++` è·³è¿‡
>
> æœ€åï¼Œ**æ ˆåº•å”¯ä¸€å‰©ä¸‹çš„é‚£å±‚ map** å°±æ˜¯æ•´ä¸ªåŒ–å­¦å¼é‡Œæ¯ç§å…ƒç´ çš„æ€»ä¸ªæ•°ã€‚
>
> ç„¶åä½ åªéœ€è¦ï¼š
>
> ```cpp
> mass = C * 12 + O * 16 + H * 1;
> ```
>
> å°±å®Œäº‹äº†ã€‚
>
> ------
>
> ## äºŒã€å®Œæ•´ C++ ä»£ç ï¼ˆæ”¯æŒå¤šå±‚æ‹¬å· + åªå« C/H/Oï¼‰
>
> ```cpp
> #include <bits/stdc++.h>
> using namespace std;
> 
> // è®¡ç®—ç›¸å¯¹åˆ†å­è´¨é‡ï¼šåªå¤„ç† C/H/O ä¸‰ç§å…ƒç´ 
> int main() {
>     ios::sync_with_stdio(false);
>     cin.tie(nullptr);
> 
>     string s;
>     getline(cin, s);
> 
>     stack<unordered_map<char,int>> st;
>     st.push(unordered_map<char,int>()); // å…¨å±€ï¼ˆæœ€å¤–å±‚ï¼‰
> 
>     int n = s.size();
>     int i = 0;
> 
>     while (i < n) {
>         char ch = s[i];
> 
>         if (ch == '(') {
>             // æ–°çš„ä¸€å±‚æ‹¬å·
>             st.push(unordered_map<char,int>());
>             i++;
>         } else if (ch == ')') {
>             // ç»“æŸå½“å‰æ‹¬å·å±‚
>             i++;
>             int num = 0;
>             // è¯»å–æ‹¬å·åé¢çš„æ•°å­—
>             while (i < n && isdigit(s[i])) {
>                 num = num * 10 + (s[i] - '0');
>                 i++;
>             }
>             if (num == 0) num = 1;
> 
>             // å¼¹å‡ºå½“å‰å±‚ï¼Œä¹˜ç³»æ•°ï¼Œå†åŠ åˆ°ä¸Šä¸€å±‚
>             auto cur = st.top();
>             st.pop();
>             for (auto &p : cur) {
>                 char elem = p.first;
>                 int cnt = p.second;
>                 st.top()[elem] += cnt * num;
>             }
>         } else if (isalpha(ch)) {
>             // å…ƒç´ ç¬¦å·ï¼ˆé¢˜ç›®ä¿è¯æ˜¯å•å­—æ¯ C/H/Oï¼‰
>             char elem = ch;
>             i++;
>             int num = 0;
>             // è¯»å–å…ƒç´ åé¢çš„æ•°å­—
>             while (i < n && isdigit(s[i])) {
>                 num = num * 10 + (s[i] - '0');
>                 i++;
>             }
>             if (num == 0) num = 1;
>             st.top()[elem] += num;
>         } else {
>             // ä¸‡ä¸€æœ‰ç©ºæ ¼ä»€ä¹ˆçš„ï¼Œç›´æ¥è·³è¿‡
>             i++;
>         }
>     }
> 
>     // æœ€å¤–å±‚çš„ç»Ÿè®¡ç»“æœ
>     auto &h = st.top();
>     int mass = 0;
>     mass += h['C'] * 12;
>     mass += h['O'] * 16;
>     mass += h['H'] * 1;
> 
>     cout << mass << "\n";
>     return 0;
> }
> ```
>
> ------
>
> ## ä¸‰ã€å¯ä»¥ç®—çš„ä¾‹å­ä¸¾å‡ ä¸ª
>
> æ¯”å¦‚è¾“å…¥ï¼š
>
> - `CH3COOH`
> - `C(OH)2`
> - `C(OH)2H2`
> - `CH3(COOH)3`
> - `C(OH(C(H)2)3)2`ï¼ˆéšä¾¿é€ ä¸ªå¤šå±‚æ‹¬å·ï¼‰
>
> éƒ½å¯ä»¥æ­£ç¡®è§£æï¼Œåªè¦å…ƒç´ æ˜¯ C / H / Oã€æ‹¬å·é…å¯¹åˆæ³•å°± OKã€‚
>
> ------
>
> å¦‚æœä½ ä¹‹åæƒ³æ‰©å±•åˆ°**æ”¯æŒå¤šå­—æ¯å…ƒç´ å**ï¼ˆæ¯”å¦‚ `Na`, `Mg`, `Cl`ï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨è¿™ä¸ªæ ˆæ¡†æ¶ä¸Šç¨å¾®æ”¹ä¸€ä¸‹ï¼ŒæŠŠ `char` æ¢æˆ `string`ï¼Œè§£æå…ƒç´ åæ—¶å¤šè¯»ä¸€ä¸¤ä¸ªå°å†™å­—æ¯å°±è¡Œï¼Œæˆ‘ä¹Ÿèƒ½å¸®ä½ å†å‡çº§ä¸€ç‰ˆå–µ ğŸ˜¸

### æ‹›å…¬ä¸»

è¿™é¢˜çš„é¢˜é¢ä¸å®Œæ•´ï¼Œæˆ‘çŒœæµ‹åº”è¯¥æ˜¯è¿™æ ·çš„

> ç‹å­æƒ³è¦è¿å¨¶å…¬ä¸»ï¼Œä½†å¿…é¡»å…ˆé€šè¿‡ä¸€ä¸ªè¯•ç‚¼ï¼š
>  **åœ¨è‹¥å¹²ä¸ªæˆ¿é—´ä¸­æ‰¾å‡ºå…¬ä¸»æ‰€åœ¨çš„æˆ¿é—´ã€‚**
>
> å…±æœ‰ nnn ä¸ªæˆ¿é—´ï¼Œæ¯ä¸ªæˆ¿é—´ä¸­æ°å¥½ä½ç€ä¸€ä¸ªäººã€‚æ‰€æœ‰äºº **äº’ç›¸çŸ¥é“æ‰€æœ‰äººçš„èº«ä»½ä¸ä½ç½®**ï¼ˆåŒ…æ‹¬å…¬ä¸»åœ¨å“ªä¸ªæˆ¿é—´ï¼‰ã€‚
>  ä½ å¯ä»¥ä¾æ¬¡è¿›å…¥ä»»æ„æˆ¿é—´ï¼Œä¸å…¶ä¸­çš„äººå¯¹è¯ï¼Œå¹¶å‘ä»–æå‡ºä¸‹é¢ä¸‰ç§é—®é¢˜ä¸­çš„ä»»æ„ä¸€ä¸ªï¼š
>
> 1. **â€œä½ æ˜¯è°ï¼Ÿâ€**ï¼ˆè¯¢é—®æ­¤äººçš„èº«ä»½ï¼šä»–åœ¨å“ªç±»ï¼Ÿï¼‰
> 2. **â€œæŸä¸ªæˆ¿é—´é‡Œæ˜¯è°ï¼Ÿâ€**ï¼ˆè¯¢é—®æŸç¼–å·æˆ¿é—´ä½çš„æ˜¯è°ï¼‰
> 3. **â€œå…¬ä¸»åœ¨å“ªä¸ªæˆ¿é—´ï¼Ÿâ€**
>
> è¿™åº§åŸå ¡é‡Œçš„å±…æ°‘åˆ†ä¸ºä¸‰ç±»ï¼š
>
> - **éª‘å£«ï¼ˆTruth-tellerï¼‰**ï¼šæ°¸è¿œè¯´çœŸè¯
> - **éª—å­ï¼ˆLiarï¼‰**ï¼šæ°¸è¿œè¯´å‡è¯
> - **å°ä¸‘ï¼ˆRandomï¼‰**ï¼šå¯ä»¥è¯´çœŸè¯ä¹Ÿå¯ä»¥è¯´å‡è¯ï¼ˆå®Œå…¨ä¸å¯é¢„æµ‹ï¼‰
>
> ç‹å­äº‹å…ˆçŸ¥é“è¿™ä¸‰ç±»äººçš„äººæ•°åˆ†åˆ«æ˜¯ï¼š
>
> - éª‘å£«ï¼šaaa
> - éª—å­ï¼šbbb
> - å°ä¸‘ï¼šccc
>
> ä½†ä¸çŸ¥é“å“ªä¸€ä¸ªæˆ¿é—´é‡Œä½çš„æ˜¯å“ªä¸€ç±»äººï¼Œä¹Ÿä¸çŸ¥é“å…¬ä¸»åœ¨å“ªï¼Œä¸ºæ­¤å¿…é¡»é€šè¿‡æé—®ç¡®å®šå…¬ä¸»çš„ä½ç½®ã€‚
>
> ä½ çš„ä»»åŠ¡æ˜¯ï¼š
>
> ## **åˆ¤æ–­ï¼šæ˜¯å¦å¯ä»¥é€šè¿‡æé—®æœ€ç»ˆå¿…ç„¶æ‰¾åˆ°å…¬ä¸»ï¼Ÿ**
>
> å¦‚æœå¯ä»¥æ‰¾åˆ°ï¼Œåˆ™è¦æ±‚è¿›ä¸€æ­¥è®¡ç®—ï¼š
>
> ## **æ‰¾åˆ°å…¬ä¸»æ‰€åœ¨æˆ¿é—´æ‰€éœ€çš„æœ€å°‘é—®é¢˜æ•°ã€‚**
>
> é—®ç­”æ˜¯é€æ¬¡è¿›è¡Œçš„ï¼Œæ¯æ¬¡æé—®åå¯ä»¥æ ¹æ®ç­”æ¡ˆé€‰æ‹©ä¸‹ä¸€ä¸ªé—®é¢˜ã€‚ç›®æ ‡æ˜¯åœ¨æœ€åæƒ…å†µä¸‹ä»èƒ½ä¿è¯æ‰¾åˆ°å…¬ä¸»çš„ä½ç½®ã€‚
>
> è¾“å‡ºï¼š
>
> - è‹¥æ— æ³•ä¿è¯æ‰¾åˆ°å…¬ä¸»ä½ç½®ï¼Œè¾“å‡º `-1`
> - è‹¥èƒ½ï¼Œè¾“å‡ºæœ€å°‘éœ€è¦çš„é—®é¢˜æ•°

```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
    int a,b,c;
    cin>>a>>b>>c;
    int bad=b+c;
    int ans=0;
    if (bad==0){
        if (a==1){
            ans=0;
        }else{
            ans=1;
        }
    }else{
        if (a<=bad){
            ans=-1;
        }else{
            ans=2*bad+1;
        }
    }
    cout<<ans<<endl;
    return 0;
}
```

### å°æ˜æ‰“å­—

```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
    string s;
    getline(cin,s);
    stack<char> l,r;
    int in=1;
    for (int i=0;i<s.size();i++){
        if (s[i]=='-'){
            in*=-1;
        }
        if (s[i]=='['){
            while (!l.empty()){
                char c=l.top();
                l.pop();
                r.push(c);
            }
        }
        if (s[i]==']'){
            while (!r.empty()){
                char c=r.top();
                r.pop();
                l.push(c);
            }
        }
        if (s[i]=='{'){
            if (!l.empty()){
                char c=l.top();
                l.pop();
                r.push(c);
            }
        }
        if (s[i]=='}'){
            if (!r.empty()){
                char c=r.top();
                r.pop();
                l.push(c);
            }
        }
        if (s[i]=='='){
            if (!l.empty()){
                l.pop();
            }
        }
        if (isalpha(s[i])||s[i]==' '){
            if (in==1){
                l.push(s[i]);
            }else{
                if (!r.empty()){
                    r.pop();
                    l.push(s[i]);
                }
            }
        }
    }
    string a,b;
    while (!l.empty()){
        char c=l.top();
        l.pop();
        a+=c;
    }
    reverse(a.begin(),a.end());
    while (!r.empty()){
        char c=r.top();
        r.pop();
        b+=c;
    }
    string ans=a+b;
    cout<<ans<<endl;
    return 0;
}
```

å¤‡æ³¨ï¼šåˆ«ç”¨é“¾è¡¨ï¼Œé“¾è¡¨æ˜¯å‘ï¼ŒåŒ…æ‹¬vectorå’Œstringç›´æ¥æ“ä½œï¼Œåœ¨å¤„ç†æ’å…¥æ—¶å‡ä¼šå‡ºç°é—®é¢˜ã€‚

è¿™ä¸€é¢˜æ ‡å‡†è§£æ³•åº”è¯¥åªæœ‰åŒæ ˆï¼Œé“¾è¡¨å’Œå‘é‡æˆ‘å…¨éƒ¨è¯•è¿‡äº†ï¼Œå¤„ç†insertçš„æ—¶å€™é€»è¾‘éå¸¸å¤æ‚è€Œä¸”å†™ä¸æ˜ç™½ã€‚

ï¼ˆPSï¼šæˆ‘æ²¡åœ¨ptaä¸Šæ‰¾åˆ°è¿™é¢˜ï¼‰

### æœˆé¥¼

```cpp
#include <bits/stdc++.h>
using namespace std;

int n;
double d;
class coke{
    public:
    double k,p;
}a[1010];
bool cmp(coke x,coke y){
    double p1=x.p/x.k;
    double p2=y.p/y.k;
    return p1>=p2;
}
int main(){
    cin>>n>>d;
    for (int i=0;i<n;i++){
        cin>>a[i].k;
    }
    for (int i=0;i<n;i++){
        cin>>a[i].p;
    }
    sort(a,a+n,cmp);
    double ans=0;
    for (int i=0;i<n;i++){
        if (a[i].k>=d){
            ans+=(a[i].p/a[i].k)*d;
            break;
        }else{
            ans+=a[i].p;
            d-=a[i].k;
        }
    }
    printf("%.2f",ans);
    return 0;
}//å¥½è´ªå…„å¼Ÿå¥½è´ª
```

### åˆ†è§£è´¨å› æ•°

```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
    int n;
    cin>>n;
    vector<pair<int,int>> ans;
    int cnt=0;
    while (n%2==0){
        cnt++;
        n/=2;
    }
    ans.push_back(pair<int,int>(2,cnt));
    for (int i=3;i*i<=n;i+=2){
        if (i>n){
            continue;
        }
        cnt=0;
        while (n%i==0){
            cnt++;
            n/=i;
        }
        if (cnt!=0){
            ans.push_back(pair<int,int>(i,cnt));
        }
    }
    if (n>1){
        ans.push_back(pair<int,int>(n,1));
    }
    for (auto it:ans){
        cout<<it.first<<" "<<it.second<<endl;
    }
    return 0;
}//è¿™ä¸ªè§£æ³•åœ¨å¾ˆæç«¯çš„æ•°æ®ä¸‹å¯èƒ½ï¼ˆï¼Ÿï¼‰è¿‡ä¸äº†ï¼Œæˆ‘æ²¡è¯•è¿‡ç´ æ•°ç­›orå…¶ä»–çš„å°å¦™æ‹›
```

### å¹¸è¿ID

```cpp
#include <bits/stdc++.h>
using namespace std;
string s;
bool cmp(int a,int b){
    return a>b;
}
int main(){
    getline(cin,s);
    string s1=s.substr(0,3);
    string s2=s.substr(3);
    int cnt1=0,cnt2=0;
    for (int i=0;i<3;i++){
        cnt1+=(int)(s1[i]-'0');
        cnt2+=(int)(s2[i]-'0');
    }
    int diff=cnt1-cnt2;
    vector<int> res;
    if (diff<0){
        for (int i=0;i<3;i++){
            res.push_back((int)('9'-s1[i]));
            res.push_back((int)(s2[i]-'0'));
        }
    }else{
        for (int i=0;i<3;i++){
            res.push_back((int)('9'-s2[i]));
            res.push_back((int)(s1[i]-'0'));
        }
    }
    int ans=0;
    diff=abs(diff);
    sort(res.begin(),res.end(),cmp);
    for (int i=0;i<6;i++){
        if (diff<=0){
            break;
        }else{
            diff-=res[i];
            ans++;
        }
    }
    cout<<ans<<endl;
    return 0;
}//è´ªå¿ƒï¼Œå‰ååˆ†åˆ«ç®—ï¼Œè¿™ä¸ªä¸œè¥¿è¿˜æœ‰å˜å¼ï¼Œä½†æ˜¯å˜å¼å…¶å®æ›´ç®€å•
```

## 2022

### èºæ—‹çŸ©é˜µ

```cpp
#include <bits/stdc++.h>
using namespace std;
int m,n;
int main(){
    cin>>m>>n;
    vector<vector<int>> ans(m+1,vector<int>(n+1));
    int top=1,bottom=m,left=1,right=n;
    int cur=1;
    while (top<=bottom&&left<=right){
        for (int i=left;i<=right;i++){
            ans[top][i]=cur;
            cur++;
        }
        top++;
        for (int i=top;i<=bottom;i++){
            ans[i][right]=cur;
            cur++;
        }
        right--;
        if (top<=bottom){
            for (int i=right;i>=left;i--){
                ans[bottom][i]=cur;
                cur++;
            }
            bottom--;
        }
        if (left<=right){
            for (int i=bottom;i>=top;i--){
                ans[i][left]=cur;
                cur++;
            }
            left++;
        }
    }
    for (int i=1;i<=m;i++){
        for (int j=1;j<=n;j++){
            cout<<ans[i][j]<<" ";
        }
        cout<<endl;
    }
}//æœ¬è´¨å‰¥å£³ï¼Œå…¶å®å°±æ˜¯è®¾ç½®ä¸Šä¸‹å·¦å³å››ä¸ªå˜é‡ï¼Œå¡«å®Œä¸€å±‚å°±å‰¥æ‰
```

### åŒ–å­¦è´¨é‡

å†™è¿‡äº†å»ä¸Šé¢çœ‹æˆ‘æ˜¯ä¸ä¿¡ä¼šå†è€ƒçš„

### è´­ç¥¨æ’é˜Ÿ

```cpp
#include <bits/stdc++.h>
using namespace std;
int n,m;
vector<int> q;
vector<int> d;
unordered_map<int,int> h;
int main(){
    cin>>n>>m;
    int angry=0;
    for (int i=1;i<=n;i++){
        int p;
        cin>>p;
        if (p==0){
            q.push_back(i);
            d.push_back(i);
        }
        if (p==1){
            int x,y;
            cin>>x>>y;
            int len=d.size();
            int idx=0;
            for (int i=0;i<len;i++){
                if (d[i]==x){
                    idx=i;
                    break;
                }
            }
            angry+=(len-idx)*y;
            d.insert(d.begin()+idx,i);
            if (angry>m){
                d=q;
                angry=0;
            }  
        }
    }
    for (int i=0;i<d.size();i++){
        cout<<d[i]<<" ";
    }
    cout<<endl;
    cout<<angry<<endl;
    return 0;
}
```

### 1-Nå…¨æ’åˆ—

```cpp
#include <bits/stdc++.h>
using namespace std;
int n;
//vector<vector<int>> ans;
vector<int> path;
void backtract(vector<int> &vis){
    if (path.size()==n){
        //ans.push_back(path);
        for (auto it:path){
            cout<<it<<" ";
        }
        cout<<endl;
        return;
    }
    for (int i=1;i<=n;i++){
        if (!vis[i]){
            path.push_back(i);
            vis[i]=1;
            backtract(vis);
            path.pop_back();
            vis[i]=0;   
        }
    }
}
int main(){
    cin>>n;
    vector<int> vis(n+1,0);
    backtract(vis);
    return 0;
}//è¿™ä¸ªåœ°æ–¹æœ‰ä¸€ä¸ªç‚¹ï¼Œå°±æ˜¯é‚£ä¸ªansæˆ‘æ‰“æ³¨é‡Šï¼Œæˆ‘ä¸æ˜¯å¾ˆæ¸…æ¥šå†…å­˜æ˜¯å¦çˆ†ç‚¸
```

### åŒºé—´æœ€å€¼é—®é¢˜

```cpp
#include <bits/stdc++.h>
using namespace std;
int n;
int main(){
    cin>>n;
    vector<int> a(n);
    for (int i=0;i<n;i++){
        cin>>a[i];
    }
    vector<int> left(n);
    vector<int> right(n);
    vector<int> sum(n);
    stack<int> sl;
    stack<int> sr;
    for (int i=0;i<n;i++){
        while (!sl.empty()&&a[i]<=a[sl.top()]){
            sl.pop();
        }
        if (sl.empty()){
            left[i]=-1;
        }else{
            left[i]=sl.top();
        }
        sl.push(i);
    }
    for (int i=n-1;i>=0;i--){
        while (!sr.empty()&&a[i]<=a[sr.top()]){
            sr.pop();
        }
        if (sr.empty()){
            right[i]=n;
        }else{
            right[i]=sr.top();
        }
        sr.push(i);
    }
    int ans=0;
    partial_sum(a.begin(),a.end(),sum.begin());
    for (int i=0;i<n;i++){
        int l=left[i]+1;
        int r=right[i]-1;
        int x;
        if (l==0){
            x=a[i]*sum[r];
        }else{
            x=a[i]*(sum[r]-sum[l-1]);
        }
        ans=max(x,ans);
    }
    cout<<ans<<endl;
    return 0;
}//å•è°ƒæ ˆåŠ å‰ç¼€å’Œï¼Œä½†æ˜¯è¦è®°å¾—åˆ¤è¾¹ç•Œ
```

### è®¨åŒçš„æ•°

```cpp
#include <bits/stdc++.h>
using namespace std;
int main(){
    int n,m;
    cin>>n>>m;
    vector<int> a(n);
    unordered_set<int> b;
    for (int i=0;i<n;i++){
        cin>>a[i];
    }
    for (int i=0;i<m;i++){
        int x;
        cin>>x;
        b.insert(x);
    }
    vector<int> ans;
    for (int i=n-1;i>=0;i--){
        if (b.find(a[i])!=b.end()){
            b.erase(a[i]);
            continue;
        }else{
            ans.push_back(a[i]);
        }
    }
    reverse(ans.begin(),ans.end());
    for (auto it:ans){
        cout<<it<<" ";
    }
    return 0;
}
```

